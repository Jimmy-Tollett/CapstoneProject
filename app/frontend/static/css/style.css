/**
 * Air Traffic Control System Styles
 * Professional dark theme optimized for ATC operations
 *
 * Design Principles:
 * - Dark backgrounds to reduce eye strain during long shifts
 * - High contrast text for readability
 * - Blue accent color (#63b3ed) for important elements
 * - Fixed header with status indicator
 * - Flexbox layout for responsive sidebar + map
 *
 * Color Palette:
 * - Primary Background: #1a1a1a (near black)
 * - Secondary Background: #2d3748 (dark gray)
 * - Borders: #4a5568 (medium gray)
 * - Accent: #63b3ed (light blue)
 * - Success: #48bb78 (green)
 * - Error: #f56565 (red)
 * - Text: #ffffff, #a0aec0, #e2e8f0 (white to light gray)
 *
 * Author: Andrew Moore
 * Course: Capstone Project - FAA ATC System
 */

/* ============================================================================
   Global Reset & Base Styles
   ============================================================================ */

/* Universal selector - applies to all elements */
* {
    margin: 0;          /* Remove default margins */
    padding: 0;         /* Remove default padding */
    box-sizing: border-box;  /* Include padding/border in element width/height */
    /* box-sizing: border-box makes layout calculations easier */
    /* Without it, width = content only. With it, width = content + padding + border */
}

body {
    /* Font stack: tries each font until one is available */
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background-color: #1a1a1a;  /* Dark background (reduces eye strain) */
    color: #ffffff;             /* White text for high contrast */
    height: 100vh;              /* 100% of viewport height (full screen) */
    overflow: hidden;           /* Prevent scrolling (dashboard is fixed size) */
}

/* ============================================================================
   Header Styles
   Fixed header bar with logo and connection status indicator
   ============================================================================ */

.header {
    background-color: #2d3748;      /* Dark gray background */
    border-bottom: 2px solid #4a5568;  /* Subtle border for separation */
    padding: 10px 20px;             /* Vertical and horizontal spacing */
    position: fixed;                /* Fixed position (doesn't scroll) */
    top: 0;                         /* Stick to top of viewport */
    left: 0;                        /* Span full width */
    right: 0;
    z-index: 1000;                  /* Layer above other content */
    /* z-index ensures header stays on top when scrolling */
}

.header-content {
    display: flex;                  /* Flexbox for horizontal layout */
    justify-content: space-between; /* Logo left, status right */
    align-items: center;            /* Vertically center items */
}

.logo {
    font-size: 1.5rem;              /* 1.5x the default font size */
    font-weight: bold;              /* Bold text */
    color: #63b3ed;                 /* Light blue (accent color) */
}

.status-indicator {
    display: flex;                  /* Horizontal layout for dot + text */
    align-items: center;            /* Vertically align dot with text */
    gap: 8px;                       /* 8px space between dot and text */
}

.status-dot {
    width: 12px;                    /* Circular dot dimensions */
    height: 12px;
    border-radius: 50%;             /* 50% makes it a perfect circle */
    background-color: #f56565;      /* Red by default (disconnected) */
    animation: pulse 2s infinite;   /* Pulsing animation (draws attention) */
}

/* When connected, the dot turns green */
.status-dot.connected {
    background-color: #48bb78;      /* Green (connected/healthy) */
    /* This class is toggled by app.js updateConnectionStatus() */
}

.status-text {
    font-size: 0.9rem;              /* Slightly smaller than body text */
    color: #a0aec0;                 /* Light gray */
}

/* Keyframe animation for pulsing status dot */
@keyframes pulse {
    0% { opacity: 1; }              /* Fully visible */
    50% { opacity: 0.5; }           /* 50% transparent (fade out) */
    100% { opacity: 1; }            /* Back to fully visible */
    /* Creates a breathing effect that repeats every 2 seconds */
}

/* ============================================================================
   Main Layout
   Flexbox layout with fixed header and flexible content area
   ============================================================================ */

.main-content {
    margin-top: 60px;               /* Push down below fixed header */
    height: calc(100vh - 60px);     /* Full viewport height minus header */
    /* calc() allows dynamic calculation: 100vh (full screen) - 60px (header) */
    display: flex;                  /* Flexbox container */
}

.dashboard {
    display: flex;                  /* Horizontal layout: sidebar + map */
    width: 100%;                    /* Fill full width */
    height: 100%;                   /* Fill full height */
}

/* ============================================================================
   Control Panel (Left Sidebar)
   Fixed-width sidebar with controls, filters, and aircraft info
   ============================================================================ */

.control-panel {
    width: 300px;                   /* Fixed width (doesn't resize) */
    background-color: #2d3748;      /* Dark gray background */
    border-right: 2px solid #4a5568;  /* Border separating from map */
    padding: 20px;                  /* Internal spacing */
    overflow-y: auto;               /* Scroll if content is too tall */
    flex-shrink: 0;                 /* Don't shrink when window resizes */
    /* flex-shrink: 0 keeps sidebar at 300px even if window is small */
}

.panel-section {
    margin-bottom: 25px;            /* Space between sections */
    padding-bottom: 20px;           /* Space before bottom border */
    border-bottom: 1px solid #4a5568;  /* Divider line between sections */
}

/* Remove bottom border from last section (no divider needed) */
.panel-section:last-child {
    border-bottom: none;
}

.panel-section h3 {
    color: #63b3ed;                 /* Light blue (accent color) */
    margin-bottom: 15px;            /* Space below section heading */
    font-size: 1.1rem;              /* Slightly larger than body text */
}

/* ============================================================================
   Aircraft Information Panel
   Displays details of the selected aircraft in the sidebar
   ============================================================================ */

.aircraft-info {
    background-color: #1a202c;      /* Darker background (nested panel) */
    padding: 15px;                  /* Internal spacing */
    border-radius: 8px;             /* Rounded corners */
    border: 1px solid #4a5568;      /* Subtle border */
    min-height: 120px;              /* Minimum height (prevents collapsing when empty) */
}

.aircraft-detail {
    margin-bottom: 8px;             /* Space between each detail row */
    display: flex;                  /* Horizontal layout: label on left, value on right */
    justify-content: space-between; /* Push label left, value right */
}

.aircraft-detail .label {
    color: #a0aec0;                 /* Light gray (de-emphasized) */
    font-weight: 500;               /* Medium weight */
}

.aircraft-detail .value {
    color: #ffffff;                 /* White (emphasized) */
    font-weight: 600;               /* Semi-bold */
}

/* ============================================================================
   Control Inputs
   Buttons, checkboxes, sliders for user interaction
   ============================================================================ */

.controls {
    display: flex;                  /* Flexbox container */
    flex-direction: column;         /* Stack controls vertically */
    gap: 15px;                      /* Space between each control */
}

.controls label {
    display: flex;                  /* Horizontal layout for checkbox + text */
    align-items: center;            /* Vertically center checkbox with label */
    gap: 8px;                       /* Space between checkbox and text */
    color: #e2e8f0;                 /* Light gray text */
    cursor: pointer;                /* Show pointer cursor (indicates clickable) */
}

.controls input[type="checkbox"] {
    width: 16px;                    /* Checkbox size */
    height: 16px;
}

.controls input[type="range"] {
    flex-grow: 1;                   /* Slider takes up remaining space */
    margin: 0 10px;                 /* Horizontal spacing around slider */
}

/* Primary button style (used for refresh button) */
.btn-primary {
    background-color: #3182ce;      /* Blue background */
    color: white;                   /* White text */
    border: none;                   /* Remove default button border */
    padding: 10px 15px;             /* Button padding (vertical horizontal) */
    border-radius: 6px;             /* Rounded corners */
    cursor: pointer;                /* Pointer cursor on hover */
    font-weight: 600;               /* Semi-bold text */
    transition: background-color 0.2s;  /* Smooth color change on hover */
    /* transition makes the hover effect fade in smoothly over 0.2 seconds */
}

/* Hover state for button (darker blue) */
.btn-primary:hover {
    background-color: #2c5282;      /* Darker blue on hover */
}

/* ============================================================================
   Statistics Display
   Shows aircraft count and last update time
   ============================================================================ */

.stats {
    display: flex;                  /* Flexbox container */
    flex-direction: column;         /* Stack stats vertically */
    gap: 10px;                      /* Space between stat items */
}

.stat-item {
    display: flex;                  /* Horizontal layout: label + value */
    justify-content: space-between; /* Label left, value right */
    align-items: center;            /* Vertically align */
}

.stat-label {
    color: #a0aec0;                 /* Light gray (de-emphasized) */
    font-size: 0.9rem;              /* Slightly smaller text */
}

.stat-value {
    color: #63b3ed;                 /* Light blue (accent color) */
    font-weight: 600;               /* Semi-bold */
}

/* ============================================================================
   Map Container (Right Side)
   Leaflet map fills remaining space after sidebar
   ============================================================================ */

.map-container {
    flex-grow: 1;                   /* Grow to fill remaining space after sidebar */
    /* flex-grow: 1 makes this container expand to fill all available width */
    position: relative;             /* Positioning context for Leaflet */
    background-color: #1a202c;      /* Dark background (while map loads) */
}

#map {
    width: 100%;                    /* Fill container width */
    height: 100%;                   /* Fill container height */
    /* Leaflet.js takes over this div and renders the map inside it */
}

/* ============================================================================
   Aircraft Markers
   Custom styled markers for aircraft on the map
   Created by Leaflet using L.divIcon in app.js
   ============================================================================ */

.aircraft-marker {
    background-color: #3182ce;      /* Blue background (default state) */
    border: 2px solid #ffffff;      /* White border for visibility */
    border-radius: 50%;             /* Make it circular */
    width: 12px;                    /* Circle diameter */
    height: 12px;
    display: flex;                  /* Center the airplane emoji */
    align-items: center;            /* Vertically center */
    justify-content: center;        /* Horizontally center */
    font-size: 8px;                 /* Size of airplane emoji âœˆ */
    font-weight: bold;
    color: white;
    box-shadow: 0 2px 4px rgba(0,0,0,0.3);  /* Drop shadow for depth */
    /* rgba(0,0,0,0.3) = black with 30% opacity */
}

/* Selected aircraft marker (red and larger) */
.aircraft-marker.selected {
    background-color: #f56565;      /* Red (indicates selection) */
    width: 16px;                    /* Larger size */
    height: 16px;
    transform: scale(1.2);          /* Scale up 20% for emphasis */
    /* This class is added by app.js selectAircraft() method */
}

/* ============================================================================
   Aircraft Popup
   Info box that appears when clicking an aircraft marker
   Leaflet handles popup positioning and display
   ============================================================================ */

.aircraft-popup {
    min-width: 200px;               /* Minimum popup width */
    /* Prevents popup from being too narrow for content */
}

.aircraft-popup .callsign {
    font-weight: bold;              /* Bold callsign for emphasis */
    color: #3182ce;                 /* Blue (accent color) */
    margin-bottom: 5px;             /* Space below callsign */
}

.aircraft-popup .details {
    font-size: 0.9rem;              /* Slightly smaller text */
    line-height: 1.4;               /* 1.4x line spacing for readability */
    /* line-height creates breathing room between lines */
}

/* ============================================================================
   Responsive Design
   Media queries adjust layout for smaller screens (tablets, phones)
   ============================================================================ */

/* Tablet and smaller screens (768px and below) */
@media (max-width: 768px) {
    .control-panel {
        width: 250px;               /* Narrower sidebar on smaller screens */
        /* Gives more space to the map */
    }

    .header-content {
        flex-direction: column;     /* Stack logo and status vertically */
        gap: 10px;                  /* Space between stacked items */
        /* Prevents header from being too cramped on narrow screens */
    }

    .logo {
        font-size: 1.2rem;          /* Smaller logo text */
        /* Reduces header height on mobile */
    }
}

/**
 * End of Styles
 *
 * Key CSS Concepts Used:
 * - Flexbox for responsive layouts (display: flex)
 * - CSS Grid alternative (not used, but could be)
 * - calc() for dynamic sizing
 * - CSS variables could be used for colors (future enhancement)
 * - Media queries for responsive design
 * - CSS animations (@keyframes pulse)
 * - Pseudo-classes (:hover, :last-child)
 * - Descendant selectors (.aircraft-popup .callsign)
 * - box-sizing: border-box for easier layout calculations
 */